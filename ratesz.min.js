/**
 * version: 0.0.1
 * bob.d4niel@yahoo.com
 * https://scriptsez.com
 */
!function(){var e;$.fn.rateszDefaults={version:"0.0.1",type:0,length:5,value:3.5,half:!0,decimal:!0,readonly:!0,hover:!1,text:!0,textList:["Bad","Not Bad","Medium","Good","Excellent"],theme:"#FFB800",size:"20px",gutter:"3px",selectClass:"ratesz_select",incompleteClass:"",customClass:"",validate:function(){1*this.value>1*this.length&&alert("value must less than length"),this.textList.length>1*this.length&&alert("textList.length must less than length")},getPath:(e=document.currentScript?document.currentScript.src:function(){for(var e,t=document.scripts,s=t.length-1,i=s;i>0;i--)if("interactive"===t[i].readyState){e=t[i].src;break}return e||t[s].src}(),e.substring(0,e.lastIndexOf("/")+1)),link:function(e,t){if(this.getPath){var s=document.getElementsByTagName("head")[0],i=document.createElement("link"),a=t;i.rel="stylesheet",i.href=this.getPath+e,i.id=a,document.getElementById(a)||s.appendChild(i)}},script:function(e,t){if(this.getPath){var s=document.getElementsByTagName("head")[0],i=document.createElement("script"),a=t;i.src=this.getPath+e,i.id=a,document.getElementById(a)||s.appendChild(i)}},addEventClick:function(e,t){var s=this;$(e).find(".ratesz_box").on("click",".ratesz_item",function(){var i=$(this);if(s.value==i.index()+1)return!1;s.value=i.index()+1,s.render(e,t);var a={dom:$(e)[0],index:i.index()};s.callback(a)})},countValue:function(){return this.value==parseInt(this.value)?{int:this.value,float:""}:{int:parseInt(this.value),float:(1e3*parseFloat(this.value)-1e3*parseInt(this.value))/1e3}},countText:function(){var e=this.value*this.textList.length/this.length,t=Math.round(e),s=0;return s=t>0?t-1:t,(this.decimal||this.half)&&this.value>parseInt(this.value)&&this.value>(t?t*this.length/this.textList.length:this.length/this.textList.length)&&s++,this.textList[s]},getIconName:function(e,t){return 1*t==2?["&#xe610;","&#xe604;","&#xe608;","&#xe605;","&#xe606;","&#xe607;","&#xe60b;","&#xe60a;","&#xe60c;","&#xe60d;","&#xe609;"][e]:"icon-stars-"+e},render:function(e,t){var s="",i="",a='<div class="ratesz_wrapper '+this.customClass+(this.hover?'" title="'+this.value+'"':'"')+'><div class="ratesz_box clearfix">{{rateszHtmlTpl}}</div>{{textTpl}}</div>',n="",l=(this.theme?"color:"+this.theme:"")+";"+(this.gutter?"margin: 0 "+this.gutter:"")+";",c=(this.size?"font-size:"+this.size:"")+";";1*t==0?n='<svg class="icon" style="'+c+'" aria-hidden="true"><use xlink:href="#{{iconname}}"></use></svg>':1*t==1?n='<i class="iconfont {{iconname}}" style="'+c+'"></i>':1*t==2&&(n='<i class="iconfont icon-ratesz-item" style="'+c+'">{{iconname}}</i>');for(var r='<div class="ratesz_item {{selectClass}}" style="'+l+'">'+n+"</div>",h=this.countValue(),o=0;o<this.length;o++)if(this.decimal||this.half)if(o<h.int)i+=r.replace("{{selectClass}}",this.selectClass).replace("{{iconname}}",this.getIconName(10,t));else if(o==h.int){var u=0;this.decimal?u=10*h.float:this.half&&(u=h.float<.33?0:h.float>.66?10:5),i+=r.replace("{{selectClass}}",this.incompleteClass).replace("{{iconname}}",this.getIconName(u,t))}else i+=r.replace("{{selectClass}}","").replace("{{iconname}}",this.getIconName(0,t));else o<h.int?i+=r.replace("{{selectClass}}",this.selectClass).replace("{{iconname}}",this.getIconName(10,t)):i+=r.replace("{{selectClass}}","").replace("{{iconname}}",this.getIconName(0,t));s=a.replace("{{rateszHtmlTpl}}",i);var d=(this.theme?"color:"+this.theme:"")+";"+(this.size?"font-size:"+this.size:"")+";";s=this.text&&this.value>0?s.replace("{{textTpl}}",'<div class="ratesz_text" style="'+d+'">'+this.countText()+"</div>"):s.replace("{{textTpl}}",""),$(e).html(s),this.readonly||this.addEventClick(e,t)},callback:function(e){}},$.fn.ratesz=function(e){var t=$.extend({},$.fn.rateszDefaults,e);return t.link("../css/ratesz.css","rateszLink"),1*t.type==0?t.script("../files/iconfont/iconfont.js","rateszIconfontSvg"):t.link("../files/iconfont/iconfont.css","rateszIconfontCss"),this.each(function(e,s){t.validate(),t.render(s,t.type)}),this}}(jQuery);